<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div>
    <h1>苏州德威国际高中表格填写自动化</h1>
    <h2>Guideline:</h2>
    <p>1.填写下列信息</p>
    <p>2.点击按钮</p>
    <p>3.复制获得的代码</p>
    <p>4.打开你要填写的DHSZ Daily Student Medical Report 2020，粘贴到地址栏然后回车</p>
    <p>5.大功告成！（代码如果表格没有更新可以一直使用，每一天一秒解决问题!）</p>

</div>
<div><input id="EnglishName" placeholder="中文名字" type="text"></div>
<div><input id="ChineseName" placeholder="英文名字" type="text"></div>
<h5>学院名一定要大写！例：10F1</h5>
<div><input id="TutorGroup" placeholder="Tutor Group(e.g. 12S1)" type="text"></div>
<div><input id="Suzhou" onchange="CheckSuzhou()" type="checkbox">不在苏州<input id="1" placeholder="所在地区" type="text"></div>
<div><input id="DangerousAreas" onchange="CheckDangerousAreas()" type="checkbox">去过危险地区<input id="2" placeholder="经过地区"
                                                                                              type="text"></div>
<div><input id="RamdomTemperature" type="checkbox">随机（36-37）温度（不建议，本人不对此行为负任何责任）//打勾即直接提交表格；若不打勾则需手动填写温度</div>
<div>
    <button id="submit" onclick="SubmitAndGenerate()">Click to generate the code!</button>
</div>
<!--<div><input id="output" type="text"></div>-->
<h2>Tip:</h2>
<p>将生成的代码加入收藏栏，每天直接点击即可！</p>
<h2>声明</h2>
<p>本程序遵循Do What The Fuck You Want To Public License公共开源许可证，仅仅作技术验证与学习之用，不承担因他人违反校规法律产生的任何责任。</p>
<script>
    document.getElementById("1").style.visibility = "hidden";
    document.getElementById("2").style.visibility = "hidden";

    function CheckSuzhou() {
        if (document.getElementById("Suzhou").checked == true) {
            document.getElementById("1").style.visibility = "visible";
        }

    }

    function CheckDangerousAreas() {
        if (document.getElementById("DangerousAreas").checked == true) {
            document.getElementById("2").style.visibility = "visible";
        }
    }

    function SubmitAndGenerate() {

        const EnglishName = document.getElementById("EnglishName").value;
        const ChineseName = document.getElementById("ChineseName").value;
        const TutorGroup = document.getElementById("TutorGroup").value;
        let content = "javascript:const elem=document.getElementsByTagName('input');elem[0].value=\"" + EnglishName + "\";elem[1].value=\"" + ChineseName + "\";";
        let v1, v2;
        let tutorGroupIndex = 2;
        let suzhouIndex = 0;
        let dangerousAreasIndex = 0;
        const classes = ["10F1", "10F2", "10F3", "10G1", "10G2", "10R2", "10S1", "10S2", "IG1", "11F1", "11F2", "11F3", "11F4", "11G1", "11G2", "11G3", "11G4", "11R1", "11R2", "11R3", "11R4", "11S1", "11S2", "11S3", "11S4", "12F1", "12F2", "12F3", "12F4", "12G1", "12G2", "12G3", "12G4", "12R1", "12R3", "12R4", "12S1", "12S2", "12S3", "12S4", "13F1", "13F2", "13F3", "13F4", "13G1", "13G2", "13G4", "13R1", "13R2", "13R3", "13R4", "13S1", "13S2", "13S3", "13S4", "10R1", "12R2", "13G3"];
        for (i = 0; i < classes.length; i++) {
            if (TutorGroup == classes[i]) {
                tutorGroupIndex += i;
                console.log(tutorGroupIndex);
                content += "elem[" + tutorGroupIndex + "].checked=true;";
            }
        }

        if (document.getElementById("Suzhou").checked == true) {
            suzhouIndex = 61;
            v1 = document.getElementById("1").value;
            content += "elem[62].value=\"" + v1 + "\";";
        } else {
            suzhouIndex = 60;
        }

        if (document.getElementById("DangerousAreas").checked == true) {
            dangerousAreasIndex = 63;
            v2 = document.getElementById("2").value;
            content += "elem[65].value=\"" + v2 + "\";";

        } else {
            dangerousAreasIndex = 64;
        }
        content = content + "elem[" + suzhouIndex + "].checked=true;" + "elem[" + dangerousAreasIndex + "].checked=true;";
        if (document.getElementById("RamdomTemperature").checked == true) {
            content += "elem[66].value=36+Math.floor(Math.random()*9)/10;" + "document.getElementsByTagName(\"button\").click();";
        }
        // document.getElementById("output").innerText=content;
        document.write(content)
    }

</script>

</body>
</html>
